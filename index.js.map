{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\nconst API_KEY = `49323961-66159e96cf1899f53bae32983`;\nconst BASE_URL = `https://pixabay.com/api/`;\n\nexport async function fetchImages(query, page = 1, perPage = 15) {\n    try {\n      const response = await axios.get(BASE_URL, {\n        params: {\n          key: API_KEY,\n          q: query,\n          image_type: 'photo',\n          orientation: 'horizontal',\n          safesearch: true,\n          page,\n          per_page: perPage,\n        },\n      });\n  \n      return response.data;\n    } catch (error) {\n      console.error('Error fetching images:', error);\n      throw error;\n    }\n  }","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst gallery = document.querySelector('.gallery');\nconst lightbox = new SimpleLightbox('.gallery a');\n\nexport function renderImages(images) {\n    const markup = images\n        .map(\n            ({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n            <li class=\"gallery-item\">\n                <a href=\"${largeImageURL}\" class=\"gallery-link\">\n                    <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"gallery-image\" />\n                </a>\n                <div class=\"info\">\n                    <p>‚ù§Ô∏è ${likes}</p>\n                    <p>üëÄ ${views}</p>\n                    <p>üí¨ ${comments}</p>\n                    <p>‚¨áÔ∏è ${downloads}</p>\n                </div>\n            </li>`\n        )\n        .join('');\n\n    gallery.insertAdjacentHTML('beforeend', markup);\n    lightbox.refresh();\n}\n\nexport function clearGallery() {\n    gallery.innerHTML = '';\n}","import { fetchImages } from './js/pixabay-api.js';\nimport { renderImages, clearGallery } from './js/render-functions.js';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport 'simplelightbox/dist/simple-lightbox.min.css'; // –í–∞–∂–ª–∏–≤–æ: –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è —Å—Ç–∏–ª—ñ–≤ lightbox\n\nconst form = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery');\nconst loadMoreBtn = document.querySelector('.load-more');\nconst loader = document.querySelector('.loader');\n\nlet query = '';\nlet page = 1;\nconst perPage = 15;\n\nform.addEventListener('submit', async event => {\n  event.preventDefault();\n  query = event.target.elements['search-text'].value.trim();\n\n  if (!query) {\n    iziToast.error({ title: 'Error', message: 'Please enter a search query!' });\n    return;\n  }\n\n  page = 1;\n  clearGallery();\n  hideButton(loadMoreBtn);\n  showLoader();\n\n  try {\n    const { hits, totalHits } = await fetchImages(query, page, perPage);\n\n    if (hits.length === 0) {\n      iziToast.warning({ title: 'Oops!', message: 'No images found. Try again!' });\n      return;\n    }\n\n    renderImages(hits);\n    if (page * perPage < totalHits) {\n      showButton(loadMoreBtn);\n    } else {\n      iziToast.info({ title: 'End', message: \"You've reached the end of search results.\" });\n    }\n  } catch (error) {\n    iziToast.error({ title: 'Error', message: 'Failed to fetch images. Try again later!' });\n    console.error(error);\n  } finally {\n    hideLoader();\n  }\n});\n\nloadMoreBtn.addEventListener('click', async () => {\n  page += 1;\n  hideButton(loadMoreBtn);\n  showLoader();\n\n  try {\n    const { hits, totalHits } = await fetchImages(query, page, perPage);\n\n    renderImages(hits);\n    scrollPage();\n\n    if (page * perPage >= totalHits) {\n      iziToast.info({ title: 'End', message: \"You've reached the end of search results.\" });\n    } else {\n      showButton(loadMoreBtn);\n    }\n  } catch (error) {\n    iziToast.error({ title: 'Error', message: 'Failed to fetch images. Try again later!' });\n    console.error(error);\n  } finally {\n    hideLoader();\n  }\n});\n\nfunction scrollPage() {\n  const cardHeight = document.querySelector('.gallery-item')?.getBoundingClientRect().height || 0;\n  window.scrollBy({ top: cardHeight * 2, behavior: 'smooth' });\n}\n\nfunction showLoader() {\n  loader.classList.add('visible');\n}\nfunction hideLoader() {\n  loader.classList.remove('visible');\n}\nfunction showButton(button) {\n  button.style.display = 'block';\n}\nfunction hideButton(button) {\n  button.style.display = 'none';\n}\n"],"names":["API_KEY","BASE_URL","fetchImages","query","page","perPage","axios","error","gallery","lightbox","SimpleLightbox","renderImages","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","form","loadMoreBtn","loader","event","iziToast","hideButton","showLoader","hits","totalHits","showButton","hideLoader","scrollPage","cardHeight","_a","button"],"mappings":"+vBACA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,eAAeC,EAAYC,EAAOC,EAAO,EAAGC,EAAU,GAAI,CAC7D,GAAI,CAaF,OAZiB,MAAMC,EAAM,IAAIL,EAAU,CACzC,OAAQ,CACN,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,KAAAC,EACA,SAAUC,CACX,CACT,CAAO,GAEe,IACjB,OAAQE,EAAO,CACd,cAAQ,MAAM,yBAA0BA,CAAK,EACvCA,CACP,CACL,CCpBA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAW,IAAIC,EAAe,YAAY,EAEzC,SAASC,EAAaC,EAAQ,CACjC,MAAMC,EAASD,EACV,IACG,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAO;AAAA;AAAA,2BAE/DL,CAAa;AAAA,gCACRD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,4BAG9BC,CAAK;AAAA,4BACLC,CAAK;AAAA,4BACLC,CAAQ;AAAA,4BACRC,CAAS;AAAA;AAAA,kBAG5B,EACA,KAAK,EAAE,EAEZZ,EAAQ,mBAAmB,YAAaK,CAAM,EAC9CJ,EAAS,QAAO,CACpB,CAEO,SAASY,GAAe,CAC3Bb,EAAQ,UAAY,EACxB,CCxBA,MAAMc,EAAO,SAAS,cAAc,OAAO,EAC3B,SAAS,cAAc,UAAU,EACjD,MAAMC,EAAc,SAAS,cAAc,YAAY,EACjDC,EAAS,SAAS,cAAc,SAAS,EAE/C,IAAIrB,EAAQ,GACRC,EAAO,EACX,MAAMC,EAAU,GAEhBiB,EAAK,iBAAiB,SAAU,MAAMG,GAAS,CAI7C,GAHAA,EAAM,eAAc,EACpBtB,EAAQsB,EAAM,OAAO,SAAS,aAAa,EAAE,MAAM,OAE/C,CAACtB,EAAO,CACVuB,EAAS,MAAM,CAAE,MAAO,QAAS,QAAS,8BAA8B,CAAE,EAC1E,MACD,CAEDtB,EAAO,EACPiB,IACAM,EAAWJ,CAAW,EACtBK,IAEA,GAAI,CACF,KAAM,CAAE,KAAAC,EAAM,UAAAC,GAAc,MAAM5B,EAAYC,EAAOC,EAAMC,CAAO,EAElE,GAAIwB,EAAK,SAAW,EAAG,CACrBH,EAAS,QAAQ,CAAE,MAAO,QAAS,QAAS,6BAA6B,CAAE,EAC3E,MACD,CAEDf,EAAakB,CAAI,EACbzB,EAAOC,EAAUyB,EACnBC,EAAWR,CAAW,EAEtBG,EAAS,KAAK,CAAE,MAAO,MAAO,QAAS,2CAA2C,CAAE,CAEvF,OAAQnB,EAAO,CACdmB,EAAS,MAAM,CAAE,MAAO,QAAS,QAAS,0CAA0C,CAAE,EACtF,QAAQ,MAAMnB,CAAK,CACvB,QAAY,CACRyB,GACD,CACH,CAAC,EAEDT,EAAY,iBAAiB,QAAS,SAAY,CAChDnB,GAAQ,EACRuB,EAAWJ,CAAW,EACtBK,IAEA,GAAI,CACF,KAAM,CAAE,KAAAC,EAAM,UAAAC,GAAc,MAAM5B,EAAYC,EAAOC,EAAMC,CAAO,EAElEM,EAAakB,CAAI,EACjBI,IAEI7B,EAAOC,GAAWyB,EACpBJ,EAAS,KAAK,CAAE,MAAO,MAAO,QAAS,2CAA2C,CAAE,EAEpFK,EAAWR,CAAW,CAEzB,OAAQhB,EAAO,CACdmB,EAAS,MAAM,CAAE,MAAO,QAAS,QAAS,0CAA0C,CAAE,EACtF,QAAQ,MAAMnB,CAAK,CACvB,QAAY,CACRyB,GACD,CACH,CAAC,EAED,SAASC,GAAa,OACpB,MAAMC,IAAaC,EAAA,SAAS,cAAc,eAAe,IAAtC,YAAAA,EAAyC,wBAAwB,SAAU,EAC9F,OAAO,SAAS,CAAE,IAAKD,EAAa,EAAG,SAAU,QAAQ,CAAE,CAC7D,CAEA,SAASN,GAAa,CACpBJ,EAAO,UAAU,IAAI,SAAS,CAChC,CACA,SAASQ,GAAa,CACpBR,EAAO,UAAU,OAAO,SAAS,CACnC,CACA,SAASO,EAAWK,EAAQ,CAC1BA,EAAO,MAAM,QAAU,OACzB,CACA,SAAST,EAAWS,EAAQ,CAC1BA,EAAO,MAAM,QAAU,MACzB"}